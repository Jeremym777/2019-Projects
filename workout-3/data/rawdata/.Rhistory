AB_freq3[(nrow(AB_freq3 + 1)):nrow(AB_freq1),] = NA
png(file="../images/Abhojit_Banerjee_word_trend.png")
AB_trending_words = ggplot(cbind(AB_freq1,AB_freq2,AB_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')
dev.off()
ED_freq1 = data.frame(table(filter(select(ED,year),str_detect(ED$paperName, 'of'))))
ED_freq2 = data.frame(table(filter(select(ED,year),str_detect(ED$paperName, 'from'))))
ED_freq3 =data.frame(table(filter(select(ED,year),str_detect(ED$paperName, 'evidence'))))
colnames(ED_freq1) = c('year1','num1')
colnames(ED_freq2) = c('year2','num2')
colnames(ED_freq3) = c('year3','num3')
ED_freq2[(nrow(ED_freq2 + 1)):nrow(ED_freq1),] = NA
ED_freq3[(nrow(ED_freq3 + 1)):nrow(ED_freq1),] = NA
png(file="../images/Ester_Duflo_wordtrend.png")
ED_trending_words = ggplot(cbind(ED_freq1,ED_freq2,ED_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')
dev.off()
```{r}
png(file="../images/Ester_Duflo_wordtrend.png")
ED_trending_words = ggplot(cbind(ED_freq1,ED_freq2,ED_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')
dev.off()
png(file="../images/Ester_Duflo_wordtrend.png")
ED_trending_words = ggplot(cbind(ED_freq1,ED_freq2,ED_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')
dev.off()
png(file="../images/Esther_Duflo_publications.png")
ggplot(data = data.frame(table(ED$year[ED$year!=""])))+geom_line(aes(x=Var1,y=Freq,group=1))+scale_x_discrete(breaks = seq(,2019,4))+ggtitle("Number of Publications of Esther Duflo")+xlab("Year")+ylab("Publications")
dev.off()
png(file="../images/Esther_Duflo_publications.png")
ggplot(data = data.frame(table(ED$year[ED$year!=""])))+geom_line(aes(x=Var1,y=Freq,group=1))+scale_x_discrete(breaks = seq(,2019,4))+ggtitle("Number of Publications of Esther Duflo")+xlab("Year")+ylab("Publications")
dev.off()
png(file="../images/Abhojit_Banerjee_word_trend.png")
AB_trending_words = ggplot(cbind(AB_freq1,AB_freq2,AB_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')
dev.off()
```{r}
png(file="../images/Abhojit_Banerjee_word_trend.png")
AB_trending_words = ggplot(cbind(AB_freq1,AB_freq2,AB_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')
dev.off()
png(file="../images/Abhojit_Banerjee_word_trend.png")
AB_trending_words = ggplot(cbind(AB_freq1,AB_freq2,AB_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')
dev.off()
png(file="../images/Abhojit_Banerjee_word_trend.png")
AB_trending_words = ggplot(cbind(AB_freq1,AB_freq2,AB_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')
dev.off()
png(file="../images/Abhojit_Banerjee_word_trend.png")
AB_trending_words = ggplot(cbind(AB_freq1,AB_freq2,AB_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')
dev.off()
AB_trending_words = ggplot(cbind(AB_freq1,AB_freq2,AB_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')
```{r}
png(file="../images/Abhojit_Banerjee_word_trend.png")
AB_trending_words = ggplot(cbind(AB_freq1,AB_freq2,AB_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')
AB_trending_words
AB_trending_words
dev.off()
png(file="../images/Abhojit_Banerjee_word_trend.png")
ggplot(cbind(AB_freq1,AB_freq2,AB_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')
ggplot(cbind(AB_freq1,AB_freq2,AB_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')
dev.off()
png(file="../images/Abhojit_Banerjee_word_trend.png")
ggplot(cbind(AB_freq1,AB_freq2,AB_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')
dev.off()
png(file="../images/Ester_Duflo_wordtrend.png")
ggplot(cbind(ED_freq1,ED_freq2,ED_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')
ggplot(cbind(ED_freq1,ED_freq2,ED_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')
dev.off()
png(file="../images/Ester_Duflo_word_trend.png")
ggplot(cbind(ED_freq1,ED_freq2,ED_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')
ggplot(cbind(ED_freq1,ED_freq2,ED_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')
dev.off()
ED_freq1 = data.frame(table(filter(select(ED,year),str_detect(ED$paperName, 'of'))))
ED_freq2 = data.frame(table(filter(select(ED,year),str_detect(ED$paperName, 'from'))))
ED_freq3 =data.frame(table(filter(select(ED,year),str_detect(ED$paperName, 'evidence'))))
colnames(ED_freq1) = c('year1','num1')
colnames(ED_freq2) = c('year2','num2')
colnames(ED_freq3) = c('year3','num3')
ED_freq2[(nrow(ED_freq2 + 1)):nrow(ED_freq1),] = NA
ED_freq3[(nrow(ED_freq3 + 1)):nrow(ED_freq1),] = NA
png(file="../images/Ester_Duflo_word_trend.png")
ggplot(cbind(ED_freq1,ED_freq2,ED_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')
dev.off()
ggplot(cbind(ED_freq1,ED_freq2,ED_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')
# Read the HTML file
parent_data1 = read_html('../HTML/abhijit_banerjee_GoogleScholarCitations.html')
parent_data2 = read_html("../HTML/esther_duflo_GoogleScholarCitations.html")
View(ED_freq1)
View(ED_freq2)
View(ED_freq3)
ggplot(cbind(ED_freq1,ED_freq2,ED_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 'sex', color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')
ggplot(cbind(ED_freq1,ED_freq2,ED_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')
ggplot(cbind(AB_freq1,AB_freq2,AB_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')
View(ED_freq2)
png(file="../images/Abhojit_Banerjee_word_trend.png")
ggplot(cbind(AB_freq1,AB_freq2,AB_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')+ggtitle("Top 3 Words of Abhojit Banerjee ")
ggplot(cbind(AB_freq1,AB_freq2,AB_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')+ggtitle("Top 3 Words of Abhojit Banerjee ")
dev.off()
ggplot(cbind(ED_freq1,ED_freq2,ED_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')+ggtitle("Top 3 Words of Ester Duflo")
png(file="../images/Ester_Duflo_word_trend.png")
ggplot(cbind(ED_freq1,ED_freq2,ED_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')+ggtitle("Top 3 Words of Ester Duflo")
ggplot(cbind(ED_freq1,ED_freq2,ED_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')+ggtitle("Top 3 Words of Ester Duflo")
dev.off()
png(file="../images/Ester_Duflo_word_trend.png")
ggplot(cbind(ED_freq1,ED_freq2,ED_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')+ggtitle("Top 3 Words of Ester Duflo")
ggplot(cbind(ED_freq1,ED_freq2,ED_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')+ggtitle("Top 3 Words of Ester Duflo")
dev.off()
ED_freq1 = data.frame(table(filter(select(ED,year),str_detect(ED$paperName, 'to'))))
ED_freq2 = data.frame(table(filter(select(ED,year),str_detect(ED$paperName, 'for'))))
ED_freq3 =data.frame(table(filter(select(ED,year),str_detect(ED$paperName, 'india'))))
colnames(ED_freq1) = c('year1','num1')
colnames(ED_freq2) = c('year2','num2')
colnames(ED_freq3) = c('year3','num3')
ED_freq2[(nrow(ED_freq2 + 1)):nrow(ED_freq1),] = NA
ED_freq3[(nrow(ED_freq3 + 1)):nrow(ED_freq1),] = NA
png(file="../images/Ester_Duflo_word_trend.png")
ggplot(cbind(ED_freq1,ED_freq2,ED_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'to'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'for'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'india')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')+ggtitle("Top 3 Words of Ester Duflo")
dev.off()
ggplot(cbind(ED_freq1,ED_freq2,ED_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'to'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'for'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'india')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')+ggtitle("Top 3 Words of Ester Duflo")
#C
words_AB=sort(table(qseg[AB$paperName]), decreasing = TRUE)[1:10]
words_AB
top_3_AB=c('of',"from","evidence")
words_ED=sort(table(qseg[ED$paperName]), decreasing = TRUE)[1:10]
words_ED
top_3_ED=c("to","for","india")
AB_freq1 = data.frame(table(filter(select(AB,year),str_detect(AB$paperName, 'of'))))
AB_freq2 = data.frame(table(filter(select(AB,year),str_detect(AB$paperName, 'from'))))
AB_freq3 =data.frame(table(filter(select(AB,year),str_detect(AB$paperName, 'evidence'))))
colnames(AB_freq1) = c('year1','num1')
colnames(AB_freq2) = c('year2','num2')
colnames(AB_freq3) = c('year3','num3')
AB_freq2[(nrow(AB_freq2 + 1)):nrow(AB_freq1),] = NA
AB_freq3[(nrow(AB_freq3 + 1)):nrow(AB_freq1),] = NA
png(file="../images/Abhojit_Banerjee_word_trend.png")
ggplot(cbind(AB_freq1,AB_freq2,AB_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')+ggtitle("Top 3 Words of Abhojit Banerjee")
dev.off()
ED_freq1 = data.frame(table(filter(select(ED,year),str_detect(ED$paperName, 'to'))))
ED_freq2 = data.frame(table(filter(select(ED,year),str_detect(ED$paperName, 'for'))))
ED_freq3 =data.frame(table(filter(select(ED,year),str_detect(ED$paperName, 'india'))))
colnames(ED_freq1) = c('year1','num1')
colnames(ED_freq2) = c('year2','num2')
colnames(ED_freq3) = c('year3','num3')
ED_freq2[(nrow(ED_freq2 + 1)):nrow(ED_freq1),] = NA
ED_freq3[(nrow(ED_freq3 + 1)):nrow(ED_freq1),] = NA
png(file="../images/Ester_Duflo_word_trend.png")
ggplot(cbind(ED_freq1,ED_freq2,ED_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'to'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'for'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'india')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')+ggtitle("Top 3 Words of Ester Duflo")
dev.off()
knitr::opts_chunk$set(echo = TRUE)
library('rvest')
# Read the HTML file
parent_data1 = read_html('../data/rawdata/abhijit_banerjee_GoogleScholarCitations.html')
parent_data2 = read_html("../data/rawdata/esther_duflo_GoogleScholarCitations.html")
# extracting names of authors from html
author1=parent_data1 %>% html_nodes(xpath = '//*[@id="gsc_prf_in"]')
author1_name= author1 %>% html_text(author1)
author1_name
author2 = parent_data2 %>% html_nodes(xpath="//*[@id='gsc_prf_in']")
author2_name= author2 %>% html_text(author2)
author2_name
# extracting scholars' affililated insitutions
school1=parent_data1 %>% html_nodes(xpath = '//*[@class="gsc_prf_inta gs_ibl"]')
school1_name=school1%>% html_text(school1)
school1_name
school2 = parent_data2 %>% html_nodes(xpath = "//*[@class='gsc_prf_ila']")
school2_name = school2 %>% html_text(school2)
school2_name
#495
paperName1=c( parent_data1 %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes('a') %>% html_nodes(xpath = '//*[@class="gsc_a_at"]') %>% html_text())
#495
researcher1= c( parent_data1 %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes('div') %>% html_text())
researcher1 = researcher1[seq(1,length(researcher1),2)]
#495
journal1 = c( parent_data1 %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes('div') %>% html_text())
journal1=journal1[seq(2,length(journal1),2)]
citations1=c( parent_data1 %>% html_nodes(xpath = '//*[@class="gsc_a_t"]')  %>% html_nodes(xpath = '//*[@class="gsc_a_c"]') %>% html_nodes('a') %>% html_text())
citations1 = citations1[seq(1,length(citations1)-1)]
citations1 =as.integer(citations1)
year1= c(parent_data1 %>% html_nodes(xpath = '//*[@id="gsc_a_b"]') %>% html_nodes("tr") %>% html_nodes(xpath = '//*[@class="gsc_a_y"]') %>% html_text())
year1= year1[seq(3,length(year1))]
year1 = as.numeric(gsub(",","",year1))
AB= data.frame(paperName=paperName1,researcher=researcher1, journal=journal1,citaations=citations1,year=year1)
AB[AB ==""]=NA
paperName2=c( parent_data2 %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes('a') %>% html_nodes(xpath = '//*[@class="gsc_a_at"]') %>% html_text())
researcher2= c( parent_data2 %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes('div') %>% html_text())
researcher2 = researcher2[seq(1,length(researcher2),2)]
journal2 = c( parent_data2 %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes('div') %>% html_text())
journal2=journal2[seq(2,length(journal2),2)]
citations2=c( parent_data2 %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes(xpath = '//*[@class="gsc_a_c"]') %>% html_nodes('a') %>% html_text())
citations2 = citations2[seq(1,length(citations2)-3)]
citations2 = as.integer(citations2)
year2= c(parent_data2 %>% html_nodes(xpath = '//*[@id="gsc_a_b"]') %>% html_nodes("tr") %>% html_nodes(xpath = '//*[@class="gsc_a_y"]') %>% html_text())
year2= year2[seq(3,length(year2))]
year2 = as.numeric(gsub(",","",year2))
ED=data.frame(paperName=paperName2,reseacher= researcher2,journal=journal2, citations = citations2, year = year2)
ED[ED==""]=NA
# creating csv files for Nobel Laureates
write.csv(AB,'../data/cleandata/Abhijit_Banerjee.csv')
write.csv(ED, '../data/cleandata/Esther_Duflo.csv')
library(stringr)
#Abhojit Banerjee
sum(str_count(substring(AB$paperName,1,1), "[aeiouAEIOU]"))
#Esther Duflo
sum(str_count(substring(ED$paperName,1,1), "[aeiouAEIOU]"))
#Abhojit Banerjee
length(AB$paperName[str_sub(AB$paperName,-1) == 's'])
#Esther Duflo
length(ED$paperName[str_sub(ED$paperName,-1) == 's'])
#Abhojit Banerjee
AB$paperName[str_length(AB$paperName) == max(str_length(AB$paperName))]
#Esther Duflo
ED$paperName[str_length(ED$paperName) == max(str_length(ED$paperName))]
# Abhojit Banerjee
summary(str_count(AB$paperName, '[:punct:]'))
hist(str_count(AB$paperName, '[:punct:]'), xlab = "punctuation")
# Esther Duflo
summary(str_count(ED$paperName, '[:punct:]'))
hist(str_count(ED$paperName, '[:punct:]'), xlab = "punctuation")
# Abhojit Banerjee
AB$paperName <- gsub('the |a |an |and |in |if |but ', " ",tolower(AB$paperName))
AB$paperName <- gsub("[[:punct:]]", "", AB$paperName)
AB$paperName <- gsub('[[:digit:]]', "", AB$paperName)
# Esther Duflo
ED$paperName <- gsub('the |a |an |and |in |if |but ', "",tolower(ED$paperName))
ED$paperName <- gsub("[[:punct:]]", "", ED$paperName)
ED$paperName <- gsub('[[:digit:]]', "", ED$paperName)
library(jiebaR)
sort(table(qseg[AB$paperName]), decreasing = TRUE)[1:10]
sort(table(qseg[ED$paperName]), decreasing = TRUE)[1:10]
#A
library(wordcloud,tm)
#Abhojit Banerjee wordcloud
png(file="../images/Abhojit_Banerjee.png")
wordcloud(AB$paperName,colors = brewer.pal(8,"Dark2"),random.order = FALSE)
dev.off()
# Esther Duflo
png(file="../images/Esther_Duflo.png")
wordcloud(ED$paperName,colors = brewer.pal(8,"Dark2"),random.order = FALSE)
dev.off()
#B
library(ggplot2)
library(dplyr)
png(file="../images/Abhojit_Banerjee_publications.png")
ggplot(data = data.frame(table(AB$year[AB$year!=""])))+geom_line(aes(x=Var1,y=Freq,group=1))+scale_x_discrete(breaks = seq(,2019,4))+ggtitle("Number of Publications of Abhojit Banerjee")+xlab("Year")+ylab("Publications")
dev.off()
png(file="../images/Esther_Duflo_publications.png")
ggplot(data = data.frame(table(ED$year[ED$year!=""])))+geom_line(aes(x=Var1,y=Freq,group=1))+scale_x_discrete(breaks = seq(,2019,4))+ggtitle("Number of Publications of Esther Duflo")+xlab("Year")+ylab("Publications")
dev.off()
#C
words_AB=sort(table(qseg[AB$paperName]), decreasing = TRUE)[1:10]
words_AB
top_3_AB=c('of',"from","evidence")
words_ED=sort(table(qseg[ED$paperName]), decreasing = TRUE)[1:10]
words_ED
top_3_ED=c("to","for","india")
AB_freq1 = data.frame(table(filter(select(AB,year),str_detect(AB$paperName, 'of'))))
AB_freq2 = data.frame(table(filter(select(AB,year),str_detect(AB$paperName, 'from'))))
AB_freq3 =data.frame(table(filter(select(AB,year),str_detect(AB$paperName, 'evidence'))))
colnames(AB_freq1) = c('year1','num1')
colnames(AB_freq2) = c('year2','num2')
colnames(AB_freq3) = c('year3','num3')
AB_freq2[(nrow(AB_freq2 + 1)):nrow(AB_freq1),] = NA
AB_freq3[(nrow(AB_freq3 + 1)):nrow(AB_freq1),] = NA
png(file="../images/Abhojit_Banerjee_word_trend.png")
ggplot(cbind(AB_freq1,AB_freq2,AB_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'of'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'from'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'evidence')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')+ggtitle("Top 3 Words of Abhojit Banerjee")
dev.off()
ED_freq1 = data.frame(table(filter(select(ED,year),str_detect(ED$paperName, 'to'))))
ED_freq2 = data.frame(table(filter(select(ED,year),str_detect(ED$paperName, 'for'))))
ED_freq3 =data.frame(table(filter(select(ED,year),str_detect(ED$paperName, 'india'))))
colnames(ED_freq1) = c('year1','num1')
colnames(ED_freq2) = c('year2','num2')
colnames(ED_freq3) = c('year3','num3')
ED_freq2[(nrow(ED_freq2 + 1)):nrow(ED_freq1),] = NA
ED_freq3[(nrow(ED_freq3 + 1)):nrow(ED_freq1),] = NA
png(file="../images/Ester_Duflo_word_trend.png")
ggplot(cbind(ED_freq1,ED_freq2,ED_freq3)) + geom_line(aes(x = year1, y = num1, group = 1,color = 'to'))+
geom_line(aes(x = year2, y = num2, group = 1, color = 'for'))+
geom_line(aes(x = year3, y = num3, group = 1,color = 'india')) +
scale_x_discrete(breaks = seq(, 2019 , 4))+
xlab('year') + ylab('number')+ggtitle("Top 3 Words of Ester Duflo")
dev.off()
parent_data1 = read_html('../data/rawdata/abhijit_banerjee_GoogleScholarCitations.html')
parent_data2 = read_html("../data/rawdata/esther_duflo_GoogleScholarCitations.html")
getwd()
setwd("/Users/jeremymartinez/desktop/Stat133/workouts/workout3")
parent_data1 = read_html('../data/rawdata/abhijit_banerjee_GoogleScholarCitations.html')
setwd("/Users/jeremymartinez/desktop/Stat133/workouts/workout3/data/rawdata/")
parent_data1 = read_html('../data/rawdata/abhijit_banerjee_GoogleScholarCitations.html')
setwd("/Users/jeremymartinez/desktop/Stat133/workouts/workout3/data/rawdata/abhijit_banerjee_GoogleScholarCitations.html")
setwd("/Users/jeremymartinez/desktop/Stat133/workouts/workout3/data/rawdata")
getwd()
parent_data1 = read_html('../data/rawdata/abhijit_banerjee_GoogleScholarCitations.html')
parent_data2 = read_html("../data/rawdata/esther_duflo_GoogleScholarCitations.html")
setwd("../data/rawdata")
setwd("../data/rawdata/")
parent_data2 = read_html("../data/rawdata/esther_duflo_GoogleScholarCitations.html")
getwd()
setwd("/Users/jeremymartinez/desktop/Stat133/workouts/workout3/data/rawdata/")
parent_data1 = read_html('../data/rawdata/abhijit_banerjee_GoogleScholarCitations.html')
parent_data2 = read_html("../data/rawdata/esther_duflo_GoogleScholarCitations.html")
parent_data2 = read_html("..rawdata/esther_duflo_GoogleScholarCitations.html")
parent_data2 = read_html("../rawdata/esther_duflo_GoogleScholarCitations.html")
parent_data1 = read_html('../data/rawdata/abhijit_banerjee_GoogleScholarCitations.html')
parent_data1 = read_html('../rawdata/abhijit_banerjee_GoogleScholarCitations.html')
parent_data2 = read_html("../rawdata/esther_duflo_GoogleScholarCitations.html")
# Read the HTML file
parent_data1 = read_html('../rawdata/abhijit_banerjee_GoogleScholarCitations.html')
# Read the HTML file
parent_data1 = read_html('../data/rawdata/abhijit_banerjee_GoogleScholarCitations.html')
parent_data2 = read_html("../data/rawdata/esther_duflo_GoogleScholarCitations.html")
getwd()
# Read the HTML file
parent_data1 = read_html('../rawdata/abhijit_banerjee_GoogleScholarCitations.html')
parent_data1 = read_html('../rawdata/abhijit_banerjee_GoogleScholarCitations.html')
parent_data2 = read_html("../rawdata/esther_duflo_GoogleScholarCitations.html")
author1=parent_data1 %>% html_nodes(xpath = '//*[@id="gsc_prf_in"]')
author1_name= author1 %>% html_text(author1)
author1_name
# Esther Duflo
author2 = parent_data2 %>% html_nodes(xpath="//*[@id='gsc_prf_in']")
author2_name= author2 %>% html_text(author2)
author2_name
school1=parent_data1 %>% html_nodes(xpath = '//*[@class="gsc_prf_inta gs_ibl"]')
school1_name=school1%>% html_text(school1)
school1_name
# MIT
school2 = parent_data2 %>% html_nodes(xpath = "//*[@class='gsc_prf_ila']")
school2_name = school2 %>% html_text(school2)
school2_name
#495
paperName1=c( parent_data1 %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes('a') %>% html_nodes(xpath = '//*[@class="gsc_a_at"]') %>% html_text())
paperName1
#495
researcher1= c( parent_data1 %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes('div') %>% html_text())
researcher1 = researcher1[seq(1,length(researcher1),2)]
researcher1
#495
journal1 = c( parent_data1 %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes('div') %>% html_text())
journal1=journal1[seq(2,length(journal1),2)]
journal1
citations1=c( parent_data1 %>% html_nodes(xpath = '//*[@class="gsc_a_t"]')  %>% html_nodes(xpath = '//*[@class="gsc_a_c"]') %>% html_nodes('a') %>% html_text())
citations1 = citations1[seq(1,length(citations1)-1)]
citations1 =as.integer(citations1)
citations1
year1= c(parent_data1 %>% html_nodes(xpath = '//*[@id="gsc_a_b"]') %>% html_nodes("tr") %>% html_nodes(xpath = '//*[@class="gsc_a_y"]') %>% html_text())
year1= year1[seq(3,length(year1))]
year1 = as.numeric(gsub(",","",year1))
year1
AB= data.frame(paperName=paperName1,researcher=researcher1, journal=journal1,citaations=citations1,year=year1)
AB[AB ==""]=NA
AB
paperName2=c( parent_data2 %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes('a') %>% html_nodes(xpath = '//*[@class="gsc_a_at"]') %>% html_text())
paperName2
researcher2= c( parent_data2 %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes('div') %>% html_text())
researcher2 = researcher2[seq(1,length(researcher2),2)]
researcher2
journal2 = c( parent_data2 %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes('div') %>% html_text())
journal2=journal2[seq(2,length(journal2),2)]
journal2
citations2=c( parent_data2 %>% html_nodes(xpath = '//*[@class="gsc_a_t"]') %>% html_nodes(xpath = '//*[@class="gsc_a_c"]') %>% html_nodes('a') %>% html_text())
citations2 = citations2[seq(1,length(citations2)-3)]
citations2 = as.integer(citations2)
citations2
year2= c(parent_data2 %>% html_nodes(xpath = '//*[@id="gsc_a_b"]') %>% html_nodes("tr") %>% html_nodes(xpath = '//*[@class="gsc_a_y"]') %>% html_text())
year2= year2[seq(3,length(year2))]
year2 = as.numeric(gsub(",","",year2))
ED=data.frame(paperName=paperName2,reseacher= researcher2,journal=journal2, citations = citations2, year = year2)
ED[ED==""]=NA
ED
# creating csv files for Nobel Laureates
write.csv(AB,'../data/cleandata/Abhijit_Banerjee.csv')
write.csv(ED, '../data/cleandata/Esther_Duflo.csv')
# creating csv files for Nobel Laureates
write.csv(AB,'../data/cleandata/Abhijit_Banerjee.csv')
# creating csv files for Nobel Laureates
write.csv(AB,'../cleandata/Abhijit_Banerjee.csv')
write.csv(ED, '../cleandata/Esther_Duflo.csv')
library(rvest)
